# study
## 과제전형 트러블슈팅 및 과정 정리
👉 [고민과 열정의 흔적 보러가기](https://leegeonhoe.notion.site/20dab019694c80dd9817da2deeb2edc7?source=copy_link)
## API TEST 하는법
👉 [Swagger 테스트 바로가기](http://localhost:8080/swagger-ui/index.html)
1. 애플리케이션 실행 후 swagger 링크에 접속합니다
2. 회원가입(/api/users)을 진행합니다
3. 가입한 이메일과 비밀번호로 로그인(/api/auth/login)을 진행합니다
4. 응답받은 accessToken 값에서 Bearer 부분을 제외하고, Swagger 페이지 우측 상단의 "Authorize"를 클릭해 입력합니다.
5. Example value 가이드에 따라 테스트를 진행합니다

+) 강의 목록 조회시 정렬 쿼리 파라미터는 recent(최근등록순), popular(신청자많은순), rate(신청률높은순) 입니다

+) 결제 정보 저장 API(/api/lectures/payments)는 추가 기능 구현이 아닌 TOP10 수익 강사 조회 API 데이터를 저장하기 위한 임시 API입니다
## 회원 가입 API

- [x] 이메일 형식에 대한 검증  
- [x] 국가에 따른 휴대전화 번호 형식 검증  
- [x] 비밀번호 형식 검증  
  - [x] 최소 6자 이상 10자 이하  
  - [x] 영문 소문자, 대문자, 숫자 중 최소 두 가지 이상 조합 필요  
- [x] 회원 유형 분류  
- [x] 테스트코드 작성  

## 로그인 API

- [x] 로그인 성공시 JWT 토큰 발급  
- [x] 토큰 유효성 검증  
- [x] 토큰 인증 제외 API 분류  
- [x] 인증 키, 만료시간 설정 

## 강의 개설 API

- [x] 수강생은 강의를 등록할 수 없음  
- [x] 최대 수강 인원 검증  
- [x] 강의명 빈 값 검증  
- [x] 최소 등록 가격 검증  
- [x] 테스트코드 작성  

## 강의 신청 API

- [x] 강의 개설 시 강의 신청자 수 초기화  
- [x] 동일 강의 신청 시 최대 수강 인원까지 동시성 검증  
- [x] 신청자가 이미 신청한 강의인지 검증  
- [x] 여러 강의 한 번에 신청  
- [x] 테스트코드 작성  
- [x] 데드락 회피 위한 락 순서 보장

## 강의 목록 조회 API

- [x] 정렬 조건을 최근 등록순, 신청자 많은 순, 신청률 높은 순으로 분리  
  - [x] 디폴트 조건을 최근 등록순으로 지정  
- [x] 페이징 제공  
  - [x] 페이지당 20개 강의 조회  
- [x] 테스트코드 작성  

## (추가기능) 통계 API
- [x] 관리자가 TOP10 수익 강사를 조회하는 기능